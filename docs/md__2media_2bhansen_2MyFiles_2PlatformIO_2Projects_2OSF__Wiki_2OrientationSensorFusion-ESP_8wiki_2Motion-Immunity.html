<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sensor Fusion Library: Immunity to Motion in other axes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Sensor Fusion Library<span id="projectnumber">&#160;0.6.1</span>
   </div>
   <div id="projectbrief">Orientation sensing for Espressif (ESP32, ESP8266) processors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Immunity to Motion in other axes</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md59"></a> The heading sensor should not vary its output when it is rotated in axes other than the vertical (Z) axis. In other words, it should be immune to heading errors caused by pitch and roll. Note that pitch and roll changes can be permanent (stationary) or dynamic, though on a vessel it is most likely both pitch and roll occur in a periodic manner at a frequency in the range 1 Hz - 0.1 Hz. The amplitude of the pitch and roll can be reasonably assumed to stay within +/- 30 degrees; further excursions are possible (but uncomfortable).</p>
<h1><a class="anchor" id="autotoc_md60"></a>
Tolerance to pitch and roll changes</h1>
<p>Aim for less than +/- 2 degrees variation in heading in response to pitch and heading changes of up to +/- 30 degrees.</p>
<h1><a class="anchor" id="autotoc_md61"></a>
Test Method</h1>
<p>The sensor was attached to the <em>wheel</em> test fixture, which was constrained manually to pointing at an arbitrary magnetic bearing. The fixture was pitched and rolled through about 20 degrees while maintaining the X-axis of the sensor on a constant bearing.</p>
<h1><a class="anchor" id="autotoc_md62"></a>
Results</h1>
<p>The magnetic bearing varied about +/- 3 degrees during the pitching and rolling. Some of the variation was caused by the manual method of constraining the test fixture, which did allow some unintentional movement. Results are shown here: <img src="./images/HeadingDuringPitchAndRoll.png?raw=true" alt="Change in Heading during pitch and roll perturbations" title="Change in Heading during pitch and roll perturbations" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md63"></a>
Further Testing</h1>
<p>It's desirable to create a test fixture that would better isolate motions along the 3 axes. Some thoughts are: Place the sensor on a rotatable test fixture, such that sensor's Z axis (the one about which heading is measured) is orthogonal to the axis of rotation of the fixture, and either the X or Y axis of the sensor aligns with the axis of the fixture. Align the sensor's Z-axis with magnetic north, as determined, for example, using Polaris and the known magnetic variation in the region of the test. Rotate the fixture to various angles and compare the measured heading with the actual.</p>
<p>Then rotate the sensor on the test fixture to swap the X &amp; Y axes (whichever one was previously not aligned with the test fixture's rotation axis should now be). Rotate the fixture to various angles and compare the measured heading with the actual. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 18 2026 09:42:29 for Sensor Fusion Library by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
